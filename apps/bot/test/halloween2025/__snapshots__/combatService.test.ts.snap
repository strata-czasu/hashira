// Bun Snapshot v1, https://bun.sh/docs/test/snapshots

exports[`CombatService executeCombat handles combat for Szopołak with participants: [ "user1" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/ihzBYx8.png",
    "name": "Szopołak",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Ugryzienie" => 0,
          "Rzut śmieciami" => 2,
          "Drapnięcie" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Szybki atak pazurami",
            "id": 1,
            "isAoe": true,
            "name": "Drapnięcie",
            "power": 8,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Silne ugryzienie, które leczy Szopołaka za 30% zadanych obrażeń",
            "effects": {
              "lifesteal": 0.3,
            },
            "id": 2,
            "isAoe": false,
            "name": "Ugryzienie",
            "power": 13,
            "weight": 100,
          },
          {
            "actionType": "debuff",
            "canTargetSelf": false,
            "cooldown": 3,
            "description": "Rzuca śmieciami, aby osłabić wrogów",
            "effects": {
              "poison": 6,
              "weakness": 3,
            },
            "id": 3,
            "isAoe": true,
            "name": "Rzut śmieciami",
            "power": 0,
            "weight": 50,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Szopołak",
        "stats": {
          "attack": 6,
          "defense": 6,
          "hp": 88,
          "maxHp": 133,
          "speed": 7,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 1,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 3,
            "power": 12,
            "source": "monster",
            "type": "poison",
          },
          {
            "duration": 1,
            "power": 3,
            "source": "monster",
            "type": "weakness",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 5,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 4 HP",
        "target": "monster",
        "turn": 1,
        "type": "heal",
        "value": 4,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 16 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 16,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Rzut śmieciami",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Rzut śmieciami!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 2,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 11 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 11,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 4 HP",
        "target": "monster",
        "turn": 3,
        "type": "heal",
        "value": 4,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 16 obrażeń",
        "target": "user1",
        "turn": 3,
        "type": "attack",
        "value": 16,
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 4,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 11 obrażeń",
        "target": "user1",
        "turn": 4,
        "type": "attack",
        "value": 11,
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Rzut śmieciami",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Rzut śmieciami!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 5,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 5,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 12 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 12,
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 5,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 133,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 133,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 123,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 133,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 34,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 4 HP",
            "target": "monster",
            "turn": 1,
            "type": "heal",
            "value": 4,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 16 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 16,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 109,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 133,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 28,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 12,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Rzut śmieciami",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Rzut śmieciami!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 2,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 102,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 133,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 6,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 12,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 11 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 11,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 4 HP",
            "target": "monster",
            "turn": 3,
            "type": "heal",
            "value": 4,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 16 obrażeń",
            "target": "user1",
            "turn": 3,
            "type": "attack",
            "value": 16,
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 102,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 133,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 4,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 12,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 4,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 11 obrażeń",
            "target": "user1",
            "turn": 4,
            "type": "attack",
            "value": 11,
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 88,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 133,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 12,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Rzut śmieciami",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Rzut śmieciami!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 5,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 5,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 12 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 12,
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 5,
            "type": "combat_end",
          },
        ],
        "turnNumber": 5,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Szopołak with participants: [ "user1", "user2" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/ihzBYx8.png",
    "name": "Szopołak",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Ugryzienie" => 0,
          "Rzut śmieciami" => 0,
          "Drapnięcie" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Szybki atak pazurami",
            "id": 1,
            "isAoe": true,
            "name": "Drapnięcie",
            "power": 8,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Silne ugryzienie, które leczy Szopołaka za 30% zadanych obrażeń",
            "effects": {
              "lifesteal": 0.3,
            },
            "id": 2,
            "isAoe": false,
            "name": "Ugryzienie",
            "power": 13,
            "weight": 100,
          },
          {
            "actionType": "debuff",
            "canTargetSelf": false,
            "cooldown": 3,
            "description": "Rzuca śmieciami, aby osłabić wrogów",
            "effects": {
              "poison": 6,
              "weakness": 3,
            },
            "id": 3,
            "isAoe": true,
            "name": "Rzut śmieciami",
            "power": 0,
            "weight": 50,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Szopołak",
        "stats": {
          "attack": 7,
          "defense": 6,
          "hp": 26,
          "maxHp": 183,
          "speed": 7,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 1,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 7,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 5 HP",
        "target": "monster",
        "turn": 1,
        "type": "heal",
        "value": 5,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 17 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 17,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 7 HP",
        "target": "monster",
        "turn": 2,
        "type": "heal",
        "value": 7,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 25 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 2,
        "type": "critical",
        "value": 25,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Rzut śmieciami",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Rzut śmieciami!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje osłabienie!",
        "target": "user2",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 11 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 11,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 11 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 11,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 12 obrażeń",
        "target": "user2",
        "turn": 4,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 5,
        "type": "critical",
        "value": 21,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 5,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 12 obrażeń",
        "target": "user1",
        "turn": 5,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 5,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 6,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 6,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 18 obrażeń (KRYTYK!)",
        "target": "user1",
        "turn": 7,
        "type": "critical",
        "value": 18,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 7,
        "type": "defeat",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 12 obrażeń",
        "target": "user2",
        "turn": 7,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 7,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 7,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 183,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 160,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 33,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 5 HP",
            "target": "monster",
            "turn": 1,
            "type": "heal",
            "value": 5,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 17 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 17,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 139,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 33,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 25,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 7 HP",
            "target": "monster",
            "turn": 2,
            "type": "heal",
            "value": 7,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 25 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 2,
            "type": "critical",
            "value": 25,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 111,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
          {
            "hp": 19,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Rzut śmieciami",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Rzut śmieciami!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje osłabienie!",
            "target": "user2",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 89,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 1,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 11 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 11,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 11 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 11,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 12 obrażeń",
            "target": "user2",
            "turn": 4,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 68,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 3,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 10,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 5,
            "type": "critical",
            "value": 21,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 5,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 12 obrażeń",
            "target": "user1",
            "turn": 5,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 5,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 54,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 12,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 4,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 6,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 6,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 26,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 183,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 18 obrażeń (KRYTYK!)",
            "target": "user1",
            "turn": 7,
            "type": "critical",
            "value": 18,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 7,
            "type": "defeat",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 12 obrażeń",
            "target": "user2",
            "turn": 7,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 7,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 7,
            "type": "combat_end",
          },
        ],
        "turnNumber": 7,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Szopołak with participants: [ "user1", "user2", "user3" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/ihzBYx8.png",
    "name": "Szopołak",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Ugryzienie" => 0,
          "Rzut śmieciami" => 0,
          "Drapnięcie" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Szybki atak pazurami",
            "id": 1,
            "isAoe": true,
            "name": "Drapnięcie",
            "power": 8,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Silne ugryzienie, które leczy Szopołaka za 30% zadanych obrażeń",
            "effects": {
              "lifesteal": 0.3,
            },
            "id": 2,
            "isAoe": false,
            "name": "Ugryzienie",
            "power": 13,
            "weight": 100,
          },
          {
            "actionType": "debuff",
            "canTargetSelf": false,
            "cooldown": 3,
            "description": "Rzuca śmieciami, aby osłabić wrogów",
            "effects": {
              "poison": 6,
              "weakness": 3,
            },
            "id": 3,
            "isAoe": true,
            "name": "Rzut śmieciami",
            "power": 0,
            "weight": 50,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Szopołak",
        "stats": {
          "attack": 7,
          "defense": 7,
          "hp": 13,
          "maxHp": 233,
          "speed": 7,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 6,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user3" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user3",
        "isDefeated": true,
        "name": "Player_user3",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 10,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 5 HP",
        "target": "monster",
        "turn": 1,
        "type": "heal",
        "value": 5,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 17 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 17,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Szopołak otrzymuje 19 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 2,
        "type": "critical",
        "value": 19,
      },
      {
        "action": "Rzut śmieciami",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Rzut śmieciami!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje osłabienie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 dostaje truciznę!",
        "target": "user3",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje osłabienie!",
        "target": "user3",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 2,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 2,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 2,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 10 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 10,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 10 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 10,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Szopołak otrzymuje 10 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 10,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 12 obrażeń",
        "target": "user1",
        "turn": 3,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 3,
        "type": "dodge",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 12 obrażeń",
        "target": "user3",
        "turn": 3,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 4,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 19 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 4,
        "type": "critical",
        "value": 19,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 12 obrażeń",
        "target": "user2",
        "turn": 4,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 12 obrażeń",
        "target": "user3",
        "turn": 4,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Heal",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Heal!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje leczenie za 15 HP",
        "target": "user3",
        "turn": 5,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 7 HP",
        "target": "monster",
        "turn": 5,
        "type": "heal",
        "value": 7,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 25 obrażeń (KRYTYK!)",
        "target": "user1",
        "turn": 5,
        "type": "critical",
        "value": 25,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 5,
        "type": "defeat",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 6,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 6,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 6,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Szopołak kradnie 5 HP",
        "target": "monster",
        "turn": 6,
        "type": "heal",
        "value": 5,
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 17 obrażeń",
        "target": "user3",
        "turn": 6,
        "type": "attack",
        "value": 17,
      },
      {
        "actor": "monster",
        "message": "Player_user3 nie może walczyć!",
        "target": "user3",
        "turn": 6,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Ugryzienie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Ugryzienie!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 12 obrażeń",
        "target": "user2",
        "turn": 8,
        "type": "attack",
        "value": 12,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 9,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Szopołak otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 10,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Drapnięcie",
        "actor": "monster",
        "message": "Szopołak korzysta z akcji Drapnięcie!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 18 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 10,
        "type": "critical",
        "value": 18,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 10,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 10,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "user3",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 233,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 199,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 33,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 5 HP",
            "target": "monster",
            "turn": 1,
            "type": "heal",
            "value": 5,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 17 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 17,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 154,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
          {
            "hp": 44,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
          {
            "hp": 44,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Szopołak otrzymuje 19 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 2,
            "type": "critical",
            "value": 19,
          },
          {
            "action": "Rzut śmieciami",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Rzut śmieciami!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje osłabienie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 dostaje truciznę!",
            "target": "user3",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje osłabienie!",
            "target": "user3",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 2,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 2,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 2,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 124,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 9,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 38,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 26,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 10 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 10,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 10 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 10,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Szopołak otrzymuje 10 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 10,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 12 obrażeń",
            "target": "user1",
            "turn": 3,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 3,
            "type": "dodge",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 12 obrażeń",
            "target": "user3",
            "turn": 3,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 92,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 18,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 20,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 8,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 4,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 19 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 4,
            "type": "critical",
            "value": 19,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 12 obrażeń",
            "target": "user2",
            "turn": 4,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 12 obrażeń",
            "target": "user3",
            "turn": 4,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 73,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 14,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Heal",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Heal!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje leczenie za 15 HP",
            "target": "user3",
            "turn": 5,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 7 HP",
            "target": "monster",
            "turn": 5,
            "type": "heal",
            "value": 7,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 25 obrażeń (KRYTYK!)",
            "target": "user1",
            "turn": 5,
            "type": "critical",
            "value": 25,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 5,
            "type": "defeat",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 6,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 6 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 6,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 65,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 29,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 6,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Szopołak kradnie 5 HP",
            "target": "monster",
            "turn": 6,
            "type": "heal",
            "value": 5,
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 17 obrażeń",
            "target": "user3",
            "turn": 6,
            "type": "attack",
            "value": 17,
          },
          {
            "actor": "monster",
            "message": "Player_user3 nie może walczyć!",
            "target": "user3",
            "turn": 6,
            "type": "defeat",
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 52,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 29,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Ugryzienie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Ugryzienie!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 7,
            "type": "dodge",
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 39,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 12 obrażeń",
            "target": "user2",
            "turn": 8,
            "type": "attack",
            "value": 12,
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 26,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 9,
            "type": "dodge",
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 13,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 233,
            "name": "Szopołak",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 6,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Szopołak otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 10,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Drapnięcie",
            "actor": "monster",
            "message": "Szopołak korzysta z akcji Drapnięcie!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 18 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 10,
            "type": "critical",
            "value": 18,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 10,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 10,
            "type": "combat_end",
          },
        ],
        "turnNumber": 10,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Duch Wędkarza with participants: [ "user1" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/YbMVA5e.png",
    "name": "Duch Wędkarza",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Połów" => 1,
          "Zarzutka" => 6,
          "Ektoplazma" => 5,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 6,
            "description": "Wszyscy atakujący zostają trafieni haczykiem i łapią się na zarzutkę.",
            "effects": {
              "strength": 4,
              "stun": true,
              "weakness": 4,
            },
            "id": 1,
            "isAoe": true,
            "name": "Zarzutka",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Przywołuje ryby, które atakują wszystkich przeciwników.",
            "id": 2,
            "isAoe": true,
            "name": "Połów",
            "power": 11,
            "weight": 80,
          },
          {
            "actionType": "heal",
            "canTargetSelf": true,
            "cooldown": 10,
            "description": "Leczy ducha i zwiększa jego obronę.",
            "effects": {
              "regen": 5,
            },
            "id": 3,
            "isAoe": false,
            "name": "Ektoplazma",
            "power": 18,
            "weight": 100,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Duch Wędkarza",
        "stats": {
          "attack": 14,
          "defense": 5,
          "hp": 103,
          "maxHp": 178,
          "speed": 36,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 2,
            "power": 4,
            "source": "monster",
            "type": "weakness",
          },
          {
            "duration": 2,
            "power": 4,
            "source": "monster",
            "type": "strength",
          },
          {
            "duration": 1,
            "power": 0,
            "source": "monster",
            "type": "stun",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 8,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Połów",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Połów!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 22 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 22,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Zarzutka",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 20 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 20,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 2,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 3,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Ektoplazma",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Ektoplazma!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje leczenie za 18 HP",
        "target": "user1",
        "turn": 3,
        "type": "heal",
        "value": 18,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Połów",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Połów!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 22 obrażeń",
        "target": "user1",
        "turn": 5,
        "type": "attack",
        "value": 22,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 8,
        "type": "dodge",
      },
      {
        "action": "Zarzutka",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 20 obrażeń",
        "target": "user1",
        "turn": 8,
        "type": "attack",
        "value": 20,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 8,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 8,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 8,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 8,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 8,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 178,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 163,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 28,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Połów",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Połów!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 22 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 22,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 148,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 8,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Zarzutka",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 20 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 20,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 2,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 148,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 41,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 3,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Ektoplazma",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Ektoplazma!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje leczenie za 18 HP",
            "target": "user1",
            "turn": 3,
            "type": "heal",
            "value": 18,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 133,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 41,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 15,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 133,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 5,
            "type": "dodge",
          },
          {
            "action": "Połów",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Połów!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 22 obrażeń",
            "target": "user1",
            "turn": 5,
            "type": "attack",
            "value": 22,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 118,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 15,
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 103,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 15,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 103,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 178,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 8,
            "type": "dodge",
          },
          {
            "action": "Zarzutka",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 20 obrażeń",
            "target": "user1",
            "turn": 8,
            "type": "attack",
            "value": 20,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 8,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 8,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 8,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 8,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 8,
            "type": "combat_end",
          },
        ],
        "turnNumber": 8,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Duch Wędkarza with participants: [ "user1", "user2" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/YbMVA5e.png",
    "name": "Duch Wędkarza",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Ektoplazma" => 4,
          "Zarzutka" => 1,
          "Połów" => 4,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 6,
            "description": "Wszyscy atakujący zostają trafieni haczykiem i łapią się na zarzutkę.",
            "effects": {
              "strength": 4,
              "stun": true,
              "weakness": 4,
            },
            "id": 1,
            "isAoe": true,
            "name": "Zarzutka",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Przywołuje ryby, które atakują wszystkich przeciwników.",
            "id": 2,
            "isAoe": true,
            "name": "Połów",
            "power": 11,
            "weight": 80,
          },
          {
            "actionType": "heal",
            "canTargetSelf": true,
            "cooldown": 10,
            "description": "Leczy ducha i zwiększa jego obronę.",
            "effects": {
              "regen": 5,
            },
            "id": 3,
            "isAoe": false,
            "name": "Ektoplazma",
            "power": 18,
            "weight": 100,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Duch Wędkarza",
        "stats": {
          "attack": 15,
          "defense": 5,
          "hp": 108,
          "maxHp": 228,
          "speed": 36,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 7,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Ektoplazma",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Ektoplazma!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje leczenie za 0 HP",
        "target": "user1",
        "turn": 1,
        "type": "heal",
        "value": 0,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Zarzutka",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 21 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 2,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 21 obrażeń",
        "target": "user2",
        "turn": 2,
        "type": "attack",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje osłabienie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 rośnie w siłę!",
        "target": "user2",
        "turn": 2,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje ogłuszenie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 3,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Połów",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Połów!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 23 obrażeń",
        "target": "user1",
        "turn": 3,
        "type": "attack",
        "value": 23,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 23 obrażeń",
        "target": "user2",
        "turn": 3,
        "type": "attack",
        "value": 23,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 4,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 4,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 6,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Połów",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Połów!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 23 obrażeń",
        "target": "user1",
        "turn": 7,
        "type": "attack",
        "value": 23,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 7,
        "type": "defeat",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 34 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 7,
        "type": "critical",
        "value": 34,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 7,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 7,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 228,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 198,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Ektoplazma",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Ektoplazma!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje leczenie za 0 HP",
            "target": "user1",
            "turn": 1,
            "type": "heal",
            "value": 0,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 168,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 29,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Zarzutka",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 21 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 2,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 21 obrażeń",
            "target": "user2",
            "turn": 2,
            "type": "attack",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje osłabienie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 rośnie w siłę!",
            "target": "user2",
            "turn": 2,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje ogłuszenie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 153,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 6,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 6,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 3,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Połów",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Połów!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 23 obrażeń",
            "target": "user1",
            "turn": 3,
            "type": "attack",
            "value": 23,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 23 obrażeń",
            "target": "user2",
            "turn": 3,
            "type": "attack",
            "value": 23,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 153,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 4,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 4,
            "type": "heal",
            "value": 15,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 138,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 5,
            "type": "dodge",
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 123,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 6,
            "type": "dodge",
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 108,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 228,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 7,
            "type": "dodge",
          },
          {
            "action": "Połów",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Połów!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 23 obrażeń",
            "target": "user1",
            "turn": 7,
            "type": "attack",
            "value": 23,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 7,
            "type": "defeat",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 34 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 7,
            "type": "critical",
            "value": 34,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 7,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 7,
            "type": "combat_end",
          },
        ],
        "turnNumber": 7,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Duch Wędkarza with participants: [ "user1", "user2", "user3" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/YbMVA5e.png",
    "name": "Duch Wędkarza",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Połów" => 0,
          "Ektoplazma" => 2,
          "Zarzutka" => 5,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 6,
            "description": "Wszyscy atakujący zostają trafieni haczykiem i łapią się na zarzutkę.",
            "effects": {
              "strength": 4,
              "stun": true,
              "weakness": 4,
            },
            "id": 1,
            "isAoe": true,
            "name": "Zarzutka",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Przywołuje ryby, które atakują wszystkich przeciwników.",
            "id": 2,
            "isAoe": true,
            "name": "Połów",
            "power": 11,
            "weight": 80,
          },
          {
            "actionType": "heal",
            "canTargetSelf": true,
            "cooldown": 10,
            "description": "Leczy ducha i zwiększa jego obronę.",
            "effects": {
              "regen": 5,
            },
            "id": 3,
            "isAoe": false,
            "name": "Ektoplazma",
            "power": 18,
            "weight": 100,
          },
        ],
        "id": "monster",
        "isDefeated": true,
        "name": "Duch Wędkarza",
        "stats": {
          "attack": 15,
          "defense": 6,
          "hp": 0,
          "maxHp": 278,
          "speed": 36,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 2,
            "power": 4,
            "source": "monster",
            "type": "weakness",
          },
          {
            "duration": 2,
            "power": 4,
            "source": "monster",
            "type": "strength",
          },
          {
            "duration": 1,
            "power": 0,
            "source": "monster",
            "type": "stun",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user3" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user3",
        "isDefeated": false,
        "name": "Player_user3",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 19,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 10,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Połów",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Połów!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 1,
        "type": "dodge",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 23 obrażeń",
        "target": "user2",
        "turn": 1,
        "type": "attack",
        "value": 23,
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 23 obrażeń",
        "target": "user3",
        "turn": 1,
        "type": "attack",
        "value": 23,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 2,
        "type": "critical",
        "value": 21,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Ektoplazma",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Ektoplazma!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje leczenie za 18 HP",
        "target": "user2",
        "turn": 2,
        "type": "heal",
        "value": 18,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Zarzutka",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 21 obrażeń",
        "target": "user1",
        "turn": 3,
        "type": "attack",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 3,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 31 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 3,
        "type": "critical",
        "value": 31,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje osłabienie!",
        "target": "user2",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 rośnie w siłę!",
        "target": "user2",
        "turn": 3,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje ogłuszenie!",
        "target": "user2",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 3,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 4,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Duch Wędkarza otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 5,
        "type": "critical",
        "value": 21,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Połów",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Połów!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 23 obrażeń",
        "target": "user1",
        "turn": 5,
        "type": "attack",
        "value": 23,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 34 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 5,
        "type": "critical",
        "value": 34,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 5,
        "type": "defeat",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 23 obrażeń",
        "target": "user3",
        "turn": 5,
        "type": "attack",
        "value": 23,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 6,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Heal",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Heal!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje leczenie za 15 HP",
        "target": "user3",
        "turn": 6,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza unika ataku!",
        "target": "monster",
        "turn": 8,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Zarzutka",
        "actor": "monster",
        "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 21 obrażeń",
        "target": "user1",
        "turn": 9,
        "type": "attack",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 9,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 9,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 9,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 9,
        "type": "defeat",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 9,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 10,
        "type": "attack",
        "value": 14,
      },
      {
        "actor": "user3",
        "message": "Duch Wędkarza traci przytomność!",
        "target": "monster",
        "turn": 10,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Potwór został schwytany!",
        "turn": 10,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "monster_captured",
    "turnOrder": [
      "user1",
      "user2",
      "user3",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 278,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 236,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Połów",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Połów!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 1,
            "type": "dodge",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 23 obrażeń",
            "target": "user2",
            "turn": 1,
            "type": "attack",
            "value": 23,
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 23 obrażeń",
            "target": "user3",
            "turn": 1,
            "type": "attack",
            "value": 23,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 187,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 45,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 2,
            "type": "critical",
            "value": 21,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Ektoplazma",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Ektoplazma!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje leczenie za 18 HP",
            "target": "user2",
            "turn": 2,
            "type": "heal",
            "value": 18,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 145,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 14,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 27,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Zarzutka",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 21 obrażeń",
            "target": "user1",
            "turn": 3,
            "type": "attack",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 3,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 31 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 3,
            "type": "critical",
            "value": 31,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje osłabienie!",
            "target": "user2",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 rośnie w siłę!",
            "target": "user2",
            "turn": 3,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje ogłuszenie!",
            "target": "user2",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 3,
            "type": "dodge",
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 131,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 4,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 4,
            "type": "dodge",
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 82,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 6,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 4,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Duch Wędkarza otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 5,
            "type": "critical",
            "value": 21,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Połów",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Połów!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 23 obrażeń",
            "target": "user1",
            "turn": 5,
            "type": "attack",
            "value": 23,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 34 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 5,
            "type": "critical",
            "value": 34,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 5,
            "type": "defeat",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 23 obrażeń",
            "target": "user3",
            "turn": 5,
            "type": "attack",
            "value": 23,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 82,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 6,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Heal",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Heal!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje leczenie za 15 HP",
            "target": "user3",
            "turn": 6,
            "type": "heal",
            "value": 15,
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 54,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 14,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 40,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza unika ataku!",
            "target": "monster",
            "turn": 8,
            "type": "dodge",
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 12,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Zarzutka",
            "actor": "monster",
            "message": "Duch Wędkarza korzysta z akcji Zarzutka!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 21 obrażeń",
            "target": "user1",
            "turn": 9,
            "type": "attack",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 9,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 9,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 9,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 9,
            "type": "defeat",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 9,
            "type": "dodge",
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 0,
            "id": "monster",
            "isDefeated": true,
            "maxHp": 278,
            "name": "Duch Wędkarza",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "weakness",
              },
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "strength",
              },
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 10,
            "type": "attack",
            "value": 14,
          },
          {
            "actor": "user3",
            "message": "Duch Wędkarza traci przytomność!",
            "target": "monster",
            "turn": 10,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Potwór został schwytany!",
            "turn": 10,
            "type": "combat_end",
          },
        ],
        "turnNumber": 10,
      },
    ],
    "winnerUserId": "user3",
  },
}
`;

exports[`CombatService executeCombat handles combat for Zombie Bruno with participants: [ "user1" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/KUvDKvi.png",
    "name": "Zombie Bruno",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Kradzież Czasu" => 0,
          "Furia Kota" => 1,
          "Pazur Zombie" => 0,
          "Zaraźliwy Pazur" => 5,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak pazurami, który może zatruć cel.",
            "effects": {
              "poison": 4,
            },
            "id": 1,
            "isAoe": false,
            "name": "Pazur Zombie",
            "power": 10,
            "weight": 100,
          },
          {
            "actionType": "debuff",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Uderza wroga, nadaje stun i zabiera trochę życia.",
            "effects": {
              "lifesteal": 0.4,
              "stun": true,
            },
            "id": 2,
            "isAoe": false,
            "name": "Kradzież Czasu",
            "power": 7,
            "weight": 80,
          },
          {
            "actionType": "buff",
            "canTargetSelf": true,
            "cooldown": 5,
            "description": "Zwiększa atak Zombie Bruno kosztem jego obrony.",
            "effects": {
              "shield": -4,
              "strength": 6,
            },
            "id": 3,
            "isAoe": false,
            "name": "Furia Kota",
            "power": 0,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 6,
            "description": "Atak pazurami, który zatruwa wszystkich wrogów.",
            "effects": {
              "poison": 3,
            },
            "id": 4,
            "isAoe": true,
            "name": "Zaraźliwy Pazur",
            "power": 8,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Zombie Bruno",
        "stats": {
          "attack": 6,
          "defense": 13,
          "hp": 45,
          "maxHp": 104,
          "speed": 45,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 2,
            "power": 4,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 10,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Kradzież Czasu",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 1,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Furia Kota",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Furia Kota!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Zombie Bruno zyskuje tarczę!",
        "target": "monster",
        "turn": 2,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Zombie Bruno rośnie w siłę!",
        "target": "monster",
        "turn": 2,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 11 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 11,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 19 obrażeń",
        "target": "user1",
        "turn": 3,
        "type": "attack",
        "value": 19,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 4,
        "type": "critical",
        "value": 10,
      },
      {
        "action": "Zaraźliwy Pazur",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 11 obrażeń",
        "target": "user1",
        "turn": 4,
        "type": "attack",
        "value": 11,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 4,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 5,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Kradzież Czasu",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 5,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 6,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Furia Kota",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Furia Kota!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Zombie Bruno zyskuje tarczę!",
        "target": "monster",
        "turn": 7,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Zombie Bruno rośnie w siłę!",
        "target": "monster",
        "turn": 7,
        "type": "buff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 7,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 8,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 8,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 13 obrażeń",
        "target": "user1",
        "turn": 9,
        "type": "attack",
        "value": 13,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 9,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 9,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 10,
        "type": "critical",
        "value": 10,
      },
      {
        "action": "Zaraźliwy Pazur",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 10,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 10,
        "type": "status_effect",
        "value": 4,
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 10,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 104,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 97,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Kradzież Czasu",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 1,
            "type": "debuff",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 90,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [
              {
                "duration": 0,
                "power": -4,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Furia Kota",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Furia Kota!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Zombie Bruno zyskuje tarczę!",
            "target": "monster",
            "turn": 2,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Zombie Bruno rośnie w siłę!",
            "target": "monster",
            "turn": 2,
            "type": "buff",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 79,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 11 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 11,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 19 obrażeń",
            "target": "user1",
            "turn": 3,
            "type": "attack",
            "value": 19,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 69,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 9,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 4,
            "type": "critical",
            "value": 10,
          },
          {
            "action": "Zaraźliwy Pazur",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 11 obrażeń",
            "target": "user1",
            "turn": 4,
            "type": "attack",
            "value": 11,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 4,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 69,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 5,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Kradzież Czasu",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 5,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 62,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 10,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 6,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 62,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [
              {
                "duration": 0,
                "power": -4,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 3,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 7,
            "type": "dodge",
          },
          {
            "action": "Furia Kota",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Furia Kota!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Zombie Bruno zyskuje tarczę!",
            "target": "monster",
            "turn": 7,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Zombie Bruno rośnie w siłę!",
            "target": "monster",
            "turn": 7,
            "type": "buff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 7,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 62,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 18,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 8,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 8,
            "type": "dodge",
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 55,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 1,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 13 obrażeń",
            "target": "user1",
            "turn": 9,
            "type": "attack",
            "value": 13,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 9,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 9,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 45,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 104,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 10,
            "type": "critical",
            "value": 10,
          },
          {
            "action": "Zaraźliwy Pazur",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 10,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 10,
            "type": "status_effect",
            "value": 4,
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 10,
            "type": "combat_end",
          },
        ],
        "turnNumber": 10,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Zombie Bruno with participants: [ "user1", "user2" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/KUvDKvi.png",
    "name": "Zombie Bruno",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Furia Kota" => 0,
          "Kradzież Czasu" => 0,
          "Zaraźliwy Pazur" => 4,
          "Pazur Zombie" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak pazurami, który może zatruć cel.",
            "effects": {
              "poison": 4,
            },
            "id": 1,
            "isAoe": false,
            "name": "Pazur Zombie",
            "power": 10,
            "weight": 100,
          },
          {
            "actionType": "debuff",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Uderza wroga, nadaje stun i zabiera trochę życia.",
            "effects": {
              "lifesteal": 0.4,
              "stun": true,
            },
            "id": 2,
            "isAoe": false,
            "name": "Kradzież Czasu",
            "power": 7,
            "weight": 80,
          },
          {
            "actionType": "buff",
            "canTargetSelf": true,
            "cooldown": 5,
            "description": "Zwiększa atak Zombie Bruno kosztem jego obrony.",
            "effects": {
              "shield": -4,
              "strength": 6,
            },
            "id": 3,
            "isAoe": false,
            "name": "Furia Kota",
            "power": 0,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 6,
            "description": "Atak pazurami, który zatruwa wszystkich wrogów.",
            "effects": {
              "poison": 3,
            },
            "id": 4,
            "isAoe": true,
            "name": "Zaraźliwy Pazur",
            "power": 8,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Zombie Bruno",
        "stats": {
          "attack": 7,
          "defense": 13,
          "hp": 35,
          "maxHp": 154,
          "speed": 45,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 3,
            "power": 7,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 1,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 4,
            "power": 11,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 10,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Furia Kota",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Furia Kota!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 zyskuje tarczę!",
        "target": "user1",
        "turn": 1,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 1,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Kradzież Czasu",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje ogłuszenie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 3,
        "type": "critical",
        "value": 10,
      },
      {
        "action": "Zaraźliwy Pazur",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 12 obrażeń",
        "target": "user1",
        "turn": 3,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 12 obrażeń",
        "target": "user2",
        "turn": 3,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 3,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 3,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 3,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 3,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 5,
        "type": "critical",
        "value": 10,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 5,
        "type": "critical",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 5,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 3,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 6,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Furia Kota",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Furia Kota!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 zyskuje tarczę!",
        "target": "user2",
        "turn": 6,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 rośnie w siłę!",
        "target": "user2",
        "turn": 6,
        "type": "buff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 3,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 7,
        "type": "dodge",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 7,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 8,
        "type": "critical",
        "value": 10,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 14 obrażeń",
        "target": "user2",
        "turn": 8,
        "type": "attack",
        "value": 14,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 8,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 8,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 7 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 7,
      },
      {
        "action": "Zaraźliwy Pazur",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 18 obrażeń (KRYTYK!)",
        "target": "user1",
        "turn": 9,
        "type": "critical",
        "value": 18,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 9,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 9,
        "type": "status_effect",
        "value": 3,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 10,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 14 obrażeń",
        "target": "user1",
        "turn": 10,
        "type": "attack",
        "value": 14,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 10,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 10,
        "type": "status_effect",
        "value": 7,
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 10,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 154,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 140,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": -4,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Furia Kota",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Furia Kota!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 zyskuje tarczę!",
            "target": "user1",
            "turn": 1,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 1,
            "type": "buff",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 120,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Kradzież Czasu",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje ogłuszenie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 103,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 35,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 35,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 3,
            "type": "critical",
            "value": 10,
          },
          {
            "action": "Zaraźliwy Pazur",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 12 obrażeń",
            "target": "user1",
            "turn": 3,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 12 obrażeń",
            "target": "user2",
            "turn": 3,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 3,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 3,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 96,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 32,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 32,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 4,
            "type": "dodge",
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 3,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 3,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 79,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 4,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 5,
            "type": "critical",
            "value": 10,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 5,
            "type": "critical",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 5,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 3,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 72,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 12,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": -4,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 6,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Furia Kota",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Furia Kota!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 zyskuje tarczę!",
            "target": "user2",
            "turn": 6,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 rośnie w siłę!",
            "target": "user2",
            "turn": 6,
            "type": "buff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 3,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 59,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 5,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 7,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 7,
            "type": "dodge",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 7,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 42,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 10 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 8,
            "type": "critical",
            "value": 10,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 14 obrażeń",
            "target": "user2",
            "turn": 8,
            "type": "attack",
            "value": 14,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 8,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 8,
            "type": "defeat",
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 35,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 5,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 7 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 7,
          },
          {
            "action": "Zaraźliwy Pazur",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 18 obrażeń (KRYTYK!)",
            "target": "user1",
            "turn": 9,
            "type": "critical",
            "value": 18,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 9,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 9,
            "type": "status_effect",
            "value": 3,
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 35,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 154,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 4,
                "power": 11,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 10,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 14 obrażeń",
            "target": "user1",
            "turn": 10,
            "type": "attack",
            "value": 14,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 10,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 10,
            "type": "status_effect",
            "value": 7,
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 10,
            "type": "combat_end",
          },
        ],
        "turnNumber": 10,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Zombie Bruno with participants: [ "user1", "user2", "user3" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/KUvDKvi.png",
    "name": "Zombie Bruno",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Furia Kota" => 0,
          "Pazur Zombie" => 0,
          "Kradzież Czasu" => 3,
          "Zaraźliwy Pazur" => 4,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak pazurami, który może zatruć cel.",
            "effects": {
              "poison": 4,
            },
            "id": 1,
            "isAoe": false,
            "name": "Pazur Zombie",
            "power": 10,
            "weight": 100,
          },
          {
            "actionType": "debuff",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Uderza wroga, nadaje stun i zabiera trochę życia.",
            "effects": {
              "lifesteal": 0.4,
              "stun": true,
            },
            "id": 2,
            "isAoe": false,
            "name": "Kradzież Czasu",
            "power": 7,
            "weight": 80,
          },
          {
            "actionType": "buff",
            "canTargetSelf": true,
            "cooldown": 5,
            "description": "Zwiększa atak Zombie Bruno kosztem jego obrony.",
            "effects": {
              "shield": -4,
              "strength": 6,
            },
            "id": 3,
            "isAoe": false,
            "name": "Furia Kota",
            "power": 0,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 6,
            "description": "Atak pazurami, który zatruwa wszystkich wrogów.",
            "effects": {
              "poison": 3,
            },
            "id": 4,
            "isAoe": true,
            "name": "Zaraźliwy Pazur",
            "power": 8,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Zombie Bruno",
        "stats": {
          "attack": 7,
          "defense": 14,
          "hp": 36,
          "maxHp": 204,
          "speed": 45,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 2,
            "power": 7,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 3,
            "power": 4,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
      "user3" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 1,
        }
,
        "id": "user3",
        "isDefeated": true,
        "name": "Player_user3",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 2,
            "power": 4,
            "source": "monster",
            "type": "poison",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 13,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Furia Kota",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Furia Kota!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Zombie Bruno zyskuje tarczę!",
        "target": "monster",
        "turn": 1,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Zombie Bruno rośnie w siłę!",
        "target": "monster",
        "turn": 1,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 10 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 10,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 10 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 10,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 10 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 10,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 20 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 20,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 2,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Kradzież Czasu",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 3,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 4,
        "type": "critical",
        "value": 9,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "user3",
        "turn": 4,
        "type": "critical",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user3 dostaje truciznę!",
        "target": "user3",
        "turn": 4,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 4,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 4,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Zaraźliwy Pazur",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 5,
        "type": "dodge",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 12 obrażeń",
        "target": "user2",
        "turn": 5,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 5,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 5,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 4,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 3,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 5,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 6,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 6,
        "type": "critical",
        "value": 9,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Furia Kota",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Furia Kota!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 zyskuje tarczę!",
        "target": "user2",
        "turn": 6,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 rośnie w siłę!",
        "target": "user2",
        "turn": 6,
        "type": "buff",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 3,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 6,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 12 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 12,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 18 obrażeń",
        "target": "user2",
        "turn": 7,
        "type": "attack",
        "value": 18,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 7,
        "type": "debuff",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 7,
        "type": "status_effect",
        "value": 7,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 7,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 8,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Heal",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Heal!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje leczenie za 15 HP",
        "target": "user3",
        "turn": 8,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "user3",
        "turn": 8,
        "type": "critical",
        "value": 21,
      },
      {
        "actor": "monster",
        "message": "Player_user3 dostaje truciznę!",
        "target": "user3",
        "turn": 8,
        "type": "debuff",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 8,
        "type": "status_effect",
        "value": 7,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 8,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 9,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 9,
        "type": "critical",
        "value": 9,
      },
      {
        "action": "Kradzież Czasu",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 dostaje ogłuszenie!",
        "target": "user3",
        "turn": 9,
        "type": "debuff",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 9,
        "type": "status_effect",
        "value": 7,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 9,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 10,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 10,
        "type": "critical",
        "value": 9,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 14 obrażeń",
        "target": "user1",
        "turn": 10,
        "type": "attack",
        "value": 14,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 10,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 10,
        "type": "status_effect",
        "value": 4,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 10,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 11,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 11,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Pazur Zombie",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 14 obrażeń",
        "target": "user2",
        "turn": 11,
        "type": "attack",
        "value": 14,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje truciznę!",
        "target": "user2",
        "turn": 11,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 11,
        "type": "status_effect",
        "value": 4,
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 4 obrażeń od efektu trucizna",
        "turn": 11,
        "type": "status_effect",
        "value": 4,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 12,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 12,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Zaraźliwy Pazur",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
        "turn": 12,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 12 obrażeń",
        "target": "user1",
        "turn": 12,
        "type": "attack",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje truciznę!",
        "target": "user1",
        "turn": 12,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 12,
        "type": "status_effect",
        "value": 7,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 13,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Zombie Bruno unika ataku!",
        "target": "monster",
        "turn": 13,
        "type": "dodge",
      },
      {
        "action": "Kradzież Czasu",
        "actor": "monster",
        "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
        "turn": 13,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 13,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
        "turn": 13,
        "type": "status_effect",
        "value": 7,
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 13,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "user3",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 204,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 186,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [
              {
                "duration": 0,
                "power": -4,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Furia Kota",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Furia Kota!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Zombie Bruno zyskuje tarczę!",
            "target": "monster",
            "turn": 1,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Zombie Bruno rośnie w siłę!",
            "target": "monster",
            "turn": 1,
            "type": "buff",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 156,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 10 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 10,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 10 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 10,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 10 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 10,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 20 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 20,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 2,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 138,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Kradzież Czasu",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 3,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 123,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 18,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 25,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 4,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 4,
            "type": "critical",
            "value": 9,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "user3",
            "turn": 4,
            "type": "critical",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user3 dostaje truciznę!",
            "target": "user3",
            "turn": 4,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 4,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 4,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 111,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 14,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 35,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 21,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 5,
            "type": "dodge",
          },
          {
            "action": "Zaraźliwy Pazur",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 5,
            "type": "dodge",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 12 obrażeń",
            "target": "user2",
            "turn": 5,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 5,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 5,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 4,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 3,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 5,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 96,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 32,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
              {
                "duration": 0,
                "power": -4,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 6,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 17,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 6,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 6,
            "type": "critical",
            "value": 9,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Furia Kota",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Furia Kota!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 zyskuje tarczę!",
            "target": "user2",
            "turn": 6,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 rośnie w siłę!",
            "target": "user2",
            "turn": 6,
            "type": "buff",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 3 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 3,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 6,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 72,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 7,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 13,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 12 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 12,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 18 obrażeń",
            "target": "user2",
            "turn": 7,
            "type": "attack",
            "value": 18,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 7,
            "type": "debuff",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 7,
            "type": "status_effect",
            "value": 7,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 7,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 66,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 15,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 3,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 8,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Heal",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Heal!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje leczenie za 15 HP",
            "target": "user3",
            "turn": 8,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "user3",
            "turn": 8,
            "type": "critical",
            "value": 21,
          },
          {
            "actor": "monster",
            "message": "Player_user3 dostaje truciznę!",
            "target": "user3",
            "turn": 8,
            "type": "debuff",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 8,
            "type": "status_effect",
            "value": 7,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 8,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 51,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 29,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 8,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 9,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 9,
            "type": "critical",
            "value": 9,
          },
          {
            "action": "Kradzież Czasu",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 dostaje ogłuszenie!",
            "target": "user3",
            "turn": 9,
            "type": "debuff",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 9,
            "type": "status_effect",
            "value": 7,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 9,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 42,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 11,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 1,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 10,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Zombie Bruno otrzymuje 9 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 10,
            "type": "critical",
            "value": 9,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 14 obrażeń",
            "target": "user1",
            "turn": 10,
            "type": "attack",
            "value": 14,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 10,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 10,
            "type": "status_effect",
            "value": 4,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 10,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 10,
      },
      {
        "combatants": [
          {
            "hp": 42,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 3,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 11,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 11,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Pazur Zombie",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Pazur Zombie!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 14 obrażeń",
            "target": "user2",
            "turn": 11,
            "type": "attack",
            "value": 14,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje truciznę!",
            "target": "user2",
            "turn": 11,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 11,
            "type": "status_effect",
            "value": 4,
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 4 obrażeń od efektu trucizna",
            "turn": 11,
            "type": "status_effect",
            "value": 4,
          },
        ],
        "turnNumber": 11,
      },
      {
        "combatants": [
          {
            "hp": 36,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 3,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 3,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 12,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 12,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Zaraźliwy Pazur",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Zaraźliwy Pazur!",
            "turn": 12,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 12 obrażeń",
            "target": "user1",
            "turn": 12,
            "type": "attack",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje truciznę!",
            "target": "user1",
            "turn": 12,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 12,
            "type": "status_effect",
            "value": 7,
          },
        ],
        "turnNumber": 12,
      },
      {
        "combatants": [
          {
            "hp": 36,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 204,
            "name": "Zombie Bruno",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 2,
                "power": 7,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 3,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 2,
                "power": 4,
                "source": "monster",
                "type": "poison",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 13,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Zombie Bruno unika ataku!",
            "target": "monster",
            "turn": 13,
            "type": "dodge",
          },
          {
            "action": "Kradzież Czasu",
            "actor": "monster",
            "message": "Zombie Bruno korzysta z akcji Kradzież Czasu!",
            "turn": 13,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 13,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 7 obrażeń od efektu trucizna",
            "turn": 13,
            "type": "status_effect",
            "value": 7,
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 13,
            "type": "combat_end",
          },
        ],
        "turnNumber": 13,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Harpia with participants: [ "user1" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/kQvkEzI.png",
    "name": "Harpia",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Niepoprawne korzystanie z mikrofonu" => 0,
          "Podmuch" => 4,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak dźwiękowy, który ogłusza cel.",
            "effects": {
              "stun": true,
            },
            "id": 1,
            "isAoe": false,
            "name": "Niepoprawne korzystanie z mikrofonu",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Silny podmuch wiatru, który zadaje obrażenia wszystkim przeciwnikom.",
            "id": 2,
            "isAoe": true,
            "name": "Podmuch",
            "power": 11,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Harpia",
        "stats": {
          "attack": 19,
          "defense": 6,
          "hp": 73,
          "maxHp": 101,
          "speed": 43,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 2,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 25 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 25,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 1,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Podmuch",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Podmuch!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 27 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 27,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 2,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 2,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 101,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 101,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 87,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 101,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 25,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 25 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 25,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 1,
            "type": "debuff",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 73,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 101,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Podmuch",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Podmuch!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 27 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 27,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 2,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 2,
            "type": "combat_end",
          },
        ],
        "turnNumber": 2,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Harpia with participants: [ "user1", "user2" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/kQvkEzI.png",
    "name": "Harpia",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Podmuch" => 0,
          "Niepoprawne korzystanie z mikrofonu" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak dźwiękowy, który ogłusza cel.",
            "effects": {
              "stun": true,
            },
            "id": 1,
            "isAoe": false,
            "name": "Niepoprawne korzystanie z mikrofonu",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Silny podmuch wiatru, który zadaje obrażenia wszystkim przeciwnikom.",
            "id": 2,
            "isAoe": true,
            "name": "Podmuch",
            "power": 11,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Harpia",
        "stats": {
          "attack": 20,
          "defense": 6,
          "hp": 39,
          "maxHp": 151,
          "speed": 43,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 0,
            "source": "monster",
            "type": "stun",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 3,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 0,
            "source": "monster",
            "type": "stun",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 6,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Podmuch",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Podmuch!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 28 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 28,
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 1,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 39 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 2,
        "type": "critical",
        "value": 39,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje ogłuszenie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 3,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 26 obrażeń",
        "target": "user2",
        "turn": 3,
        "type": "attack",
        "value": 26,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje ogłuszenie!",
        "target": "user2",
        "turn": 3,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 3,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 26 obrażeń",
        "target": "user1",
        "turn": 6,
        "type": "attack",
        "value": 26,
      },
      {
        "actor": "monster",
        "message": "Player_user1 dostaje ogłuszenie!",
        "target": "user1",
        "turn": 6,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 6,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 6,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 151,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 123,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Podmuch",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Podmuch!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 28 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 28,
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 1,
            "type": "dodge",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 95,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 11,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 39 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 2,
            "type": "critical",
            "value": 39,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje ogłuszenie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 81,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 3,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 26 obrażeń",
            "target": "user2",
            "turn": 3,
            "type": "attack",
            "value": 26,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje ogłuszenie!",
            "target": "user2",
            "turn": 3,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 3,
            "type": "defeat",
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 67,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 53,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 5,
            "type": "dodge",
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 39,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 151,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 26 obrażeń",
            "target": "user1",
            "turn": 6,
            "type": "attack",
            "value": 26,
          },
          {
            "actor": "monster",
            "message": "Player_user1 dostaje ogłuszenie!",
            "target": "user1",
            "turn": 6,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 6,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 6,
            "type": "combat_end",
          },
        ],
        "turnNumber": 6,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Harpia with participants: [ "user1", "user2", "user3" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/kQvkEzI.png",
    "name": "Harpia",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Podmuch" => 3,
          "Niepoprawne korzystanie z mikrofonu" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak dźwiękowy, który ogłusza cel.",
            "effects": {
              "stun": true,
            },
            "id": 1,
            "isAoe": false,
            "name": "Niepoprawne korzystanie z mikrofonu",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 4,
            "description": "Silny podmuch wiatru, który zadaje obrażenia wszystkim przeciwnikom.",
            "id": 2,
            "isAoe": true,
            "name": "Podmuch",
            "power": 11,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": true,
        "name": "Harpia",
        "stats": {
          "attack": 20,
          "defense": 7,
          "hp": 0,
          "maxHp": 201,
          "speed": 43,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": false,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 22,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 0,
            "source": "monster",
            "type": "stun",
          },
        ],
        "type": "user",
      },
      "user3" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user3",
        "isDefeated": true,
        "name": "Player_user3",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 0,
            "source": "monster",
            "type": "stun",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 8,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Podmuch",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Podmuch!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 1,
        "type": "dodge",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 28 obrażeń",
        "target": "user2",
        "turn": 1,
        "type": "attack",
        "value": 28,
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 28 obrażeń",
        "target": "user3",
        "turn": 1,
        "type": "attack",
        "value": 28,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Harpia otrzymuje 19 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 2,
        "type": "critical",
        "value": 19,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 26 obrażeń",
        "target": "user2",
        "turn": 2,
        "type": "attack",
        "value": 26,
      },
      {
        "actor": "monster",
        "message": "Player_user2 dostaje ogłuszenie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 2,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 3,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 19 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 4,
        "type": "critical",
        "value": 19,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Harpia unika ataku!",
        "target": "monster",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Niepoprawne korzystanie z mikrofonu",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 26 obrażeń",
        "target": "user3",
        "turn": 6,
        "type": "attack",
        "value": 26,
      },
      {
        "actor": "monster",
        "message": "Player_user3 dostaje ogłuszenie!",
        "target": "user3",
        "turn": 6,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 nie może walczyć!",
        "target": "user3",
        "turn": 6,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Podmuch",
        "actor": "monster",
        "message": "Harpia korzysta z akcji Podmuch!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 28 obrażeń",
        "target": "user1",
        "turn": 7,
        "type": "attack",
        "value": 28,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Harpia otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 13,
      },
      {
        "actor": "user1",
        "message": "Harpia traci przytomność!",
        "target": "monster",
        "turn": 8,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Potwór został schwytany!",
        "turn": 8,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "monster_captured",
    "turnOrder": [
      "user1",
      "user2",
      "user3",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 201,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 162,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Podmuch",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Podmuch!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 1,
            "type": "dodge",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 28 obrażeń",
            "target": "user2",
            "turn": 1,
            "type": "attack",
            "value": 28,
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 28 obrażeń",
            "target": "user3",
            "turn": 1,
            "type": "attack",
            "value": 28,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 117,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 22,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Harpia otrzymuje 19 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 2,
            "type": "critical",
            "value": 19,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 26 obrażeń",
            "target": "user2",
            "turn": 2,
            "type": "attack",
            "value": 26,
          },
          {
            "actor": "monster",
            "message": "Player_user2 dostaje ogłuszenie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 2,
            "type": "defeat",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 91,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 22,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 3,
            "type": "dodge",
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 72,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 22,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 19 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 4,
            "type": "critical",
            "value": 19,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Harpia unika ataku!",
            "target": "monster",
            "turn": 4,
            "type": "dodge",
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 46,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 22,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 5,
            "type": "dodge",
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 20,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Niepoprawne korzystanie z mikrofonu",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Niepoprawne korzystanie z mikrofonu!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 26 obrażeń",
            "target": "user3",
            "turn": 6,
            "type": "attack",
            "value": 26,
          },
          {
            "actor": "monster",
            "message": "Player_user3 dostaje ogłuszenie!",
            "target": "user3",
            "turn": 6,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 nie może walczyć!",
            "target": "user3",
            "turn": 6,
            "type": "defeat",
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 7,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Podmuch",
            "actor": "monster",
            "message": "Harpia korzysta z akcji Podmuch!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 28 obrażeń",
            "target": "user1",
            "turn": 7,
            "type": "attack",
            "value": 28,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 0,
            "id": "monster",
            "isDefeated": true,
            "maxHp": 201,
            "name": "Harpia",
            "statusEffects": [],
          },
          {
            "hp": 22,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 1,
                "power": 0,
                "source": "monster",
                "type": "stun",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Harpia otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 13,
          },
          {
            "actor": "user1",
            "message": "Harpia traci przytomność!",
            "target": "monster",
            "turn": 8,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Potwór został schwytany!",
            "turn": 8,
            "type": "combat_end",
          },
        ],
        "turnNumber": 8,
      },
    ],
    "winnerUserId": "user1",
  },
}
`;

exports[`CombatService executeCombat handles combat for Opętana Lalka with participants: [ "user1" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/qQObiqd.png",
    "name": "Opętana Lalka",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Dźgnięcie" => 0,
          "Złość" => 1,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Szybki atak nożem.",
            "id": 1,
            "isAoe": false,
            "name": "Dźgnięcie",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "buff",
            "canTargetSelf": true,
            "cooldown": 2,
            "description": "Zwiększa swój atak.",
            "effects": {
              "strength": 3,
            },
            "id": 2,
            "isAoe": false,
            "name": "Złość",
            "power": 0,
            "weight": 100,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Opętana Lalka",
        "stats": {
          "attack": 17,
          "defense": 13.5,
          "hp": 99,
          "maxHp": 120,
          "speed": 42,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 3,
            "source": "monster",
            "type": "strength",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 3,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 23 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 23,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 2,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 9 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 9,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 34 obrażeń (KRYTYK!)",
        "target": "user1",
        "turn": 3,
        "type": "critical",
        "value": 34,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 3,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 3,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 120,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 120,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 114,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 120,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 23 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 23,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 108,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 120,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 27,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 2,
            "type": "buff",
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 99,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 120,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 9 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 9,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 34 obrażeń (KRYTYK!)",
            "target": "user1",
            "turn": 3,
            "type": "critical",
            "value": 34,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 3,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 3,
            "type": "combat_end",
          },
        ],
        "turnNumber": 3,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Opętana Lalka with participants: [ "user1", "user2" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/qQObiqd.png",
    "name": "Opętana Lalka",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Złość" => 1,
          "Dźgnięcie" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Szybki atak nożem.",
            "id": 1,
            "isAoe": false,
            "name": "Dźgnięcie",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "buff",
            "canTargetSelf": true,
            "cooldown": 2,
            "description": "Zwiększa swój atak.",
            "effects": {
              "strength": 3,
            },
            "id": 2,
            "isAoe": false,
            "name": "Złość",
            "power": 0,
            "weight": 100,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Opętana Lalka",
        "stats": {
          "attack": 18,
          "defense": 13.5,
          "hp": 77,
          "maxHp": 170,
          "speed": 42,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 3,
            "source": "monster",
            "type": "strength",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 10,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 1,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 9 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 9,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 24 obrażeń",
        "target": "user2",
        "turn": 2,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 9 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 3,
        "type": "critical",
        "value": 9,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 3,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 9 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 9,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 9 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 5,
        "type": "critical",
        "value": 9,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 36 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 5,
        "type": "critical",
        "value": 36,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 5,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 6,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 24 obrażeń",
        "target": "user1",
        "turn": 7,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 6 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 6,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 24 obrażeń",
        "target": "user1",
        "turn": 8,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 9,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 9,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 9 obrażeń",
        "target": "monster",
        "turn": 10,
        "type": "attack",
        "value": 9,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 36 obrażeń (KRYTYK!)",
        "target": "user1",
        "turn": 10,
        "type": "critical",
        "value": 36,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 10,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 10,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 170,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 158,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 1,
            "type": "buff",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 143,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 9 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 9,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 24 obrażeń",
            "target": "user2",
            "turn": 2,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 128,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 26,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 9 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 3,
            "type": "critical",
            "value": 9,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 3,
            "type": "buff",
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 113,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 9 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 9,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 98,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 9 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 5,
            "type": "critical",
            "value": 9,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 36 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 5,
            "type": "critical",
            "value": 36,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 5,
            "type": "defeat",
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 92,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 6,
            "type": "buff",
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 92,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 7,
            "type": "dodge",
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 24 obrażeń",
            "target": "user1",
            "turn": 7,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 86,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 2,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 6 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 6,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 24 obrażeń",
            "target": "user1",
            "turn": 8,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 86,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 9,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 9,
            "type": "buff",
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 77,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 170,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 9 obrażeń",
            "target": "monster",
            "turn": 10,
            "type": "attack",
            "value": 9,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 36 obrażeń (KRYTYK!)",
            "target": "user1",
            "turn": 10,
            "type": "critical",
            "value": 36,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 10,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 10,
            "type": "combat_end",
          },
        ],
        "turnNumber": 10,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Opętana Lalka with participants: [ "user1", "user2", "user3" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/qQObiqd.png",
    "name": "Opętana Lalka",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Złość" => 0,
          "Dźgnięcie" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Szybki atak nożem.",
            "id": 1,
            "isAoe": false,
            "name": "Dźgnięcie",
            "power": 9,
            "weight": 100,
          },
          {
            "actionType": "buff",
            "canTargetSelf": true,
            "cooldown": 2,
            "description": "Zwiększa swój atak.",
            "effects": {
              "strength": 3,
            },
            "id": 2,
            "isAoe": false,
            "name": "Złość",
            "power": 0,
            "weight": 100,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Opętana Lalka",
        "stats": {
          "attack": 18,
          "defense": 14.5,
          "hp": 53,
          "maxHp": 220,
          "speed": 42,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": 3,
            "source": "monster",
            "type": "strength",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user3" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 3,
        }
,
        "id": "user3",
        "isDefeated": true,
        "name": "Player_user3",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 16,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Opętana Lalka rośnie w siłę!",
        "target": "monster",
        "turn": 1,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 27 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 27,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 3,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 4,
        "type": "critical",
        "value": 8,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 4,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 5,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 6,
        "type": "dodge",
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 rośnie w siłę!",
        "target": "user2",
        "turn": 6,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 8 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 8,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 unika ataku!",
        "target": "user3",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 8,
        "type": "critical",
        "value": 8,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 rośnie w siłę!",
        "target": "user1",
        "turn": 8,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 9,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 9,
        "type": "dodge",
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 24 obrażeń",
        "target": "user1",
        "turn": 9,
        "type": "attack",
        "value": 24,
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 9,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 10,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 10,
        "type": "critical",
        "value": 8,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 24 obrażeń",
        "target": "user2",
        "turn": 10,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka unika ataku!",
        "target": "monster",
        "turn": 11,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 11,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 24 obrażeń",
        "target": "user2",
        "turn": 11,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Heal",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Heal!",
        "turn": 12,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje leczenie za 15 HP",
        "target": "user2",
        "turn": 12,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 12,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 12,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 12,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 24 obrażeń",
        "target": "user3",
        "turn": 12,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 13,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 13,
        "type": "critical",
        "value": 8,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 13,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 13,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 13,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 24 obrażeń",
        "target": "user2",
        "turn": 13,
        "type": "attack",
        "value": 24,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 13,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 14,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 5 obrażeń",
        "target": "monster",
        "turn": 14,
        "type": "attack",
        "value": 5,
      },
      {
        "action": "Złość",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Złość!",
        "turn": 14,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 rośnie w siłę!",
        "target": "user3",
        "turn": 14,
        "type": "buff",
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 15,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Opętana Lalka otrzymuje 12 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 15,
        "type": "critical",
        "value": 12,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 15,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 24 obrażeń",
        "target": "user3",
        "turn": 15,
        "type": "attack",
        "value": 24,
      },
      {
        "action": "Heal",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Heal!",
        "turn": 16,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje leczenie za 15 HP",
        "target": "user3",
        "turn": 16,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Dźgnięcie",
        "actor": "monster",
        "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
        "turn": 16,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 24 obrażeń",
        "target": "user3",
        "turn": 16,
        "type": "attack",
        "value": 24,
      },
      {
        "actor": "monster",
        "message": "Player_user3 nie może walczyć!",
        "target": "user3",
        "turn": 16,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 16,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "user3",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 220,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 205,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Opętana Lalka rośnie w siłę!",
            "target": "monster",
            "turn": 1,
            "type": "buff",
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 190,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 27 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 27,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 175,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 3,
            "type": "dodge",
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 162,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 4,
            "type": "critical",
            "value": 8,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 4,
            "type": "dodge",
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 4,
            "type": "buff",
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 152,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 5,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 5,
            "type": "dodge",
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 142,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 6,
            "type": "dodge",
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 rośnie w siłę!",
            "target": "user2",
            "turn": 6,
            "type": "buff",
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 124,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 8 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 8,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 unika ataku!",
            "target": "user3",
            "turn": 7,
            "type": "dodge",
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 106,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 23,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 8,
            "type": "critical",
            "value": 8,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 rośnie w siłę!",
            "target": "user1",
            "turn": 8,
            "type": "buff",
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 101,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 9,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 9,
            "type": "dodge",
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 24 obrażeń",
            "target": "user1",
            "turn": 9,
            "type": "attack",
            "value": 24,
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 9,
            "type": "defeat",
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 93,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 26,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 10,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 10,
            "type": "critical",
            "value": 8,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 24 obrażeń",
            "target": "user2",
            "turn": 10,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 10,
      },
      {
        "combatants": [
          {
            "hp": 88,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 2,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka unika ataku!",
            "target": "monster",
            "turn": 11,
            "type": "dodge",
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 11,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 24 obrażeń",
            "target": "user2",
            "turn": 11,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 11,
      },
      {
        "combatants": [
          {
            "hp": 83,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Heal!",
            "turn": 12,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje leczenie za 15 HP",
            "target": "user2",
            "turn": 12,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 12,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 12,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 12,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 24 obrażeń",
            "target": "user3",
            "turn": 12,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 12,
      },
      {
        "combatants": [
          {
            "hp": 70,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 13,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Opętana Lalka otrzymuje 8 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 13,
            "type": "critical",
            "value": 8,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 13,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 13,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 13,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 24 obrażeń",
            "target": "user2",
            "turn": 13,
            "type": "attack",
            "value": 24,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 13,
            "type": "defeat",
          },
        ],
        "turnNumber": 13,
      },
      {
        "combatants": [
          {
            "hp": 65,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 26,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 14,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 5 obrażeń",
            "target": "monster",
            "turn": 14,
            "type": "attack",
            "value": 5,
          },
          {
            "action": "Złość",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Złość!",
            "turn": 14,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 rośnie w siłę!",
            "target": "user3",
            "turn": 14,
            "type": "buff",
          },
        ],
        "turnNumber": 14,
      },
      {
        "combatants": [
          {
            "hp": 53,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 2,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 15,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Opętana Lalka otrzymuje 12 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 15,
            "type": "critical",
            "value": 12,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 15,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 24 obrażeń",
            "target": "user3",
            "turn": 15,
            "type": "attack",
            "value": 24,
          },
        ],
        "turnNumber": 15,
      },
      {
        "combatants": [
          {
            "hp": 53,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 220,
            "name": "Opętana Lalka",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 1,
                "power": 3,
                "source": "monster",
                "type": "strength",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Heal!",
            "turn": 16,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje leczenie za 15 HP",
            "target": "user3",
            "turn": 16,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Dźgnięcie",
            "actor": "monster",
            "message": "Opętana Lalka korzysta z akcji Dźgnięcie!",
            "turn": 16,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 24 obrażeń",
            "target": "user3",
            "turn": 16,
            "type": "attack",
            "value": 24,
          },
          {
            "actor": "monster",
            "message": "Player_user3 nie może walczyć!",
            "target": "user3",
            "turn": 16,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 16,
            "type": "combat_end",
          },
        ],
        "turnNumber": 16,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Sukkub with participants: [ "user1" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/clOhBpu.png",
    "name": "Sukkub",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Pocałunek Sukkuba" => 0,
          "Piekielne Selfie" => 8,
        }
,
        "availableActions": [
          {
            "actionType": "buff",
            "canTargetSelf": false,
            "cooldown": 3,
            "description": "Zmniejsza atak i obronę celu.",
            "effects": {
              "shield": -2,
              "weakness": 2,
            },
            "id": 1,
            "isAoe": false,
            "name": "Uwodzenie",
            "power": 0,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak, który leczy Sukkuba za 40% zadanych obrażeń.",
            "effects": {
              "lifesteal": 0.4,
            },
            "id": 2,
            "isAoe": false,
            "name": "Pocałunek Sukkuba",
            "power": 16,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 8,
            "description": "Zadaje obrażenia wszystkim przeciwnikom i nakłada efekt burn.",
            "effects": {
              "burn": 5,
            },
            "id": 3,
            "isAoe": true,
            "name": "Piekielne Selfie",
            "power": 14,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Sukkub",
        "stats": {
          "attack": 17,
          "defense": 5,
          "hp": 180,
          "maxHp": 198,
          "speed": 24,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 3,
            "power": 5,
            "source": "monster",
            "type": "burn",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 2,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Sukkub kradnie 12 HP",
        "target": "monster",
        "turn": 1,
        "type": "heal",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 30 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 30,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Piekielne Selfie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Piekielne Selfie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 28 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 28,
      },
      {
        "actor": "monster",
        "message": "Player_user1 zaczyna płonąć!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 2,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 2,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 198,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 198,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 195,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 198,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 20,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Sukkub kradnie 12 HP",
            "target": "monster",
            "turn": 1,
            "type": "heal",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 30 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 30,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 180,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 198,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Piekielne Selfie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Piekielne Selfie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 28 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 28,
          },
          {
            "actor": "monster",
            "message": "Player_user1 zaczyna płonąć!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 2,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 2,
            "type": "combat_end",
          },
        ],
        "turnNumber": 2,
      },
    ],
    "winnerUserId": null,
  },
}
`;

exports[`CombatService executeCombat handles combat for Sukkub with participants: [ "user1", "user2" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/clOhBpu.png",
    "name": "Sukkub",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Piekielne Selfie" => 0,
          "Uwodzenie" => 1,
          "Pocałunek Sukkuba" => 0,
        }
,
        "availableActions": [
          {
            "actionType": "buff",
            "canTargetSelf": false,
            "cooldown": 3,
            "description": "Zmniejsza atak i obronę celu.",
            "effects": {
              "shield": -2,
              "weakness": 2,
            },
            "id": 1,
            "isAoe": false,
            "name": "Uwodzenie",
            "power": 0,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak, który leczy Sukkuba za 40% zadanych obrażeń.",
            "effects": {
              "lifesteal": 0.4,
            },
            "id": 2,
            "isAoe": false,
            "name": "Pocałunek Sukkuba",
            "power": 16,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 8,
            "description": "Zadaje obrażenia wszystkim przeciwnikom i nakłada efekt burn.",
            "effects": {
              "burn": 5,
            },
            "id": 3,
            "isAoe": true,
            "name": "Piekielne Selfie",
            "power": 14,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": true,
        "name": "Sukkub",
        "stats": {
          "attack": 18,
          "defense": 5,
          "hp": 0,
          "maxHp": 248,
          "speed": 24,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 0,
        }
,
        "id": "user1",
        "isDefeated": false,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 21,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [],
        "type": "user",
      },
    }
,
    "currentTurn": 11,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Piekielne Selfie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Piekielne Selfie!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 29 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 29,
      },
      {
        "actor": "monster",
        "message": "Player_user1 zaczyna płonąć!",
        "target": "user1",
        "turn": 1,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 1,
        "type": "dodge",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 1,
        "type": "status_effect",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Uwodzenie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Uwodzenie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 zyskuje tarczę!",
        "target": "user2",
        "turn": 2,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje osłabienie!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 2,
        "type": "status_effect",
        "value": 5,
      },
      {
        "action": "Heal",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Heal!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje leczenie za 15 HP",
        "target": "user1",
        "turn": 3,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 19 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 3,
        "type": "critical",
        "value": 19,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Sukkub kradnie 13 HP",
        "target": "monster",
        "turn": 3,
        "type": "heal",
        "value": 13,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 33 obrażeń",
        "target": "user2",
        "turn": 3,
        "type": "attack",
        "value": 33,
      },
      {
        "actor": "user1",
        "message": "Player_user1 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 3,
        "type": "status_effect",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 4,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 4,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 5,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 22 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 5,
        "type": "critical",
        "value": 22,
      },
      {
        "action": "Uwodzenie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Uwodzenie!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 zyskuje tarczę!",
        "target": "user2",
        "turn": 5,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje osłabienie!",
        "target": "user2",
        "turn": 5,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 22 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 6,
        "type": "critical",
        "value": 22,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 6,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 6,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 6,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 7,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 7,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user2 unika ataku!",
        "target": "user2",
        "turn": 7,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 8,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 8,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Sukkub kradnie 12 HP",
        "target": "monster",
        "turn": 8,
        "type": "heal",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 31 obrażeń",
        "target": "user2",
        "turn": 8,
        "type": "attack",
        "value": 31,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 8,
        "type": "defeat",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 9,
        "type": "attack",
        "value": 15,
      },
      {
        "action": "Uwodzenie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Uwodzenie!",
        "turn": 9,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 zyskuje tarczę!",
        "target": "user1",
        "turn": 9,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje osłabienie!",
        "target": "user1",
        "turn": 9,
        "type": "debuff",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 13 obrażeń",
        "target": "monster",
        "turn": 10,
        "type": "attack",
        "value": 13,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 10,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 unika ataku!",
        "target": "user1",
        "turn": 10,
        "type": "dodge",
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 11,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 15 obrażeń",
        "target": "monster",
        "turn": 11,
        "type": "attack",
        "value": 15,
      },
      {
        "actor": "user1",
        "message": "Sukkub traci przytomność!",
        "target": "monster",
        "turn": 11,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Potwór został schwytany!",
        "turn": 11,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "monster_captured",
    "turnOrder": [
      "user1",
      "user2",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 248,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 218,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 16,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Piekielne Selfie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Piekielne Selfie!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 29 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 29,
          },
          {
            "actor": "monster",
            "message": "Player_user1 zaczyna płonąć!",
            "target": "user1",
            "turn": 1,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 1,
            "type": "dodge",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 1,
            "type": "status_effect",
            "value": 5,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 188,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 11,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": -2,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 2,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Uwodzenie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Uwodzenie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 zyskuje tarczę!",
            "target": "user2",
            "turn": 2,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje osłabienie!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 2,
            "type": "status_effect",
            "value": 5,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 182,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Heal!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje leczenie za 15 HP",
            "target": "user1",
            "turn": 3,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 19 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 3,
            "type": "critical",
            "value": 19,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Sukkub kradnie 13 HP",
            "target": "monster",
            "turn": 3,
            "type": "heal",
            "value": 13,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 33 obrażeń",
            "target": "user2",
            "turn": 3,
            "type": "attack",
            "value": 33,
          },
          {
            "actor": "user1",
            "message": "Player_user1 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 3,
            "type": "status_effect",
            "value": 5,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 152,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 4,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 4,
            "type": "dodge",
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 115,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 0,
                "power": -2,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 2,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 5,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 22 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 5,
            "type": "critical",
            "value": 22,
          },
          {
            "action": "Uwodzenie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Uwodzenie!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 zyskuje tarczę!",
            "target": "user2",
            "turn": 5,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje osłabienie!",
            "target": "user2",
            "turn": 5,
            "type": "debuff",
          },
        ],
        "turnNumber": 5,
      },
      {
        "combatants": [
          {
            "hp": 80,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 22 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 6,
            "type": "critical",
            "value": 22,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 6,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 6,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 6,
            "type": "dodge",
          },
        ],
        "turnNumber": 6,
      },
      {
        "combatants": [
          {
            "hp": 50,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 17,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 7,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 7,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user2 unika ataku!",
            "target": "user2",
            "turn": 7,
            "type": "dodge",
          },
        ],
        "turnNumber": 7,
      },
      {
        "combatants": [
          {
            "hp": 32,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 8,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 8,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Sukkub kradnie 12 HP",
            "target": "monster",
            "turn": 8,
            "type": "heal",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 31 obrażeń",
            "target": "user2",
            "turn": 8,
            "type": "attack",
            "value": 31,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 8,
            "type": "defeat",
          },
        ],
        "turnNumber": 8,
      },
      {
        "combatants": [
          {
            "hp": 17,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 0,
                "power": -2,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 0,
                "power": 2,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 9,
            "type": "attack",
            "value": 15,
          },
          {
            "action": "Uwodzenie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Uwodzenie!",
            "turn": 9,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 zyskuje tarczę!",
            "target": "user1",
            "turn": 9,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje osłabienie!",
            "target": "user1",
            "turn": 9,
            "type": "debuff",
          },
        ],
        "turnNumber": 9,
      },
      {
        "combatants": [
          {
            "hp": 4,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 13 obrażeń",
            "target": "monster",
            "turn": 10,
            "type": "attack",
            "value": 13,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 10,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 unika ataku!",
            "target": "user1",
            "turn": 10,
            "type": "dodge",
          },
        ],
        "turnNumber": 10,
      },
      {
        "combatants": [
          {
            "hp": 0,
            "id": "monster",
            "isDefeated": true,
            "maxHp": 248,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 21,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 11,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 15 obrażeń",
            "target": "monster",
            "turn": 11,
            "type": "attack",
            "value": 15,
          },
          {
            "actor": "user1",
            "message": "Sukkub traci przytomność!",
            "target": "monster",
            "turn": 11,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Potwór został schwytany!",
            "turn": 11,
            "type": "combat_end",
          },
        ],
        "turnNumber": 11,
      },
    ],
    "winnerUserId": "user1",
  },
}
`;

exports[`CombatService executeCombat handles combat for Sukkub with participants: [ "user1", "user2", "user3" ] 1`] = `
{
  "monster": {
    "image": "https://i.imgur.com/clOhBpu.png",
    "name": "Sukkub",
  },
  "spawn": {
    "channelId": "123456789",
    "guildId": "guild123",
    "id": 1,
    "messageId": "987654321",
  },
  "state": {
    "combatants": 
Map {
      "monster" => {
        "actionCooldowns": 
Map {
          "Pocałunek Sukkuba" => 0,
          "Piekielne Selfie" => 5,
          "Uwodzenie" => 2,
        }
,
        "availableActions": [
          {
            "actionType": "buff",
            "canTargetSelf": false,
            "cooldown": 3,
            "description": "Zmniejsza atak i obronę celu.",
            "effects": {
              "shield": -2,
              "weakness": 2,
            },
            "id": 1,
            "isAoe": false,
            "name": "Uwodzenie",
            "power": 0,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 0,
            "description": "Atak, który leczy Sukkuba za 40% zadanych obrażeń.",
            "effects": {
              "lifesteal": 0.4,
            },
            "id": 2,
            "isAoe": false,
            "name": "Pocałunek Sukkuba",
            "power": 16,
            "weight": 100,
          },
          {
            "actionType": "attack",
            "canTargetSelf": false,
            "cooldown": 8,
            "description": "Zadaje obrażenia wszystkim przeciwnikom i nakłada efekt burn.",
            "effects": {
              "burn": 5,
            },
            "id": 3,
            "isAoe": true,
            "name": "Piekielne Selfie",
            "power": 14,
            "weight": 80,
          },
        ],
        "id": "monster",
        "isDefeated": false,
        "name": "Sukkub",
        "stats": {
          "attack": 18,
          "defense": 6,
          "hp": 197,
          "maxHp": 298,
          "speed": 24,
        },
        "statusEffects": [],
        "type": "monster",
      },
      "user1" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user1",
        "isDefeated": true,
        "name": "Player_user1",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 3,
            "power": 5,
            "source": "monster",
            "type": "burn",
          },
        ],
        "type": "user",
      },
      "user2" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
        }
,
        "id": "user2",
        "isDefeated": true,
        "name": "Player_user2",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 2,
            "power": 5,
            "source": "monster",
            "type": "burn",
          },
        ],
        "type": "user",
      },
      "user3" => {
        "abilityCooldowns": 
Map {
          "Strike" => 0,
          "Heal" => 2,
        }
,
        "id": "user3",
        "isDefeated": true,
        "name": "Player_user3",
        "stats": {
          "attack": 8,
          "defense": 3,
          "hp": 0,
          "maxHp": 50,
          "speed": 50,
        },
        "statusEffects": [
          {
            "duration": 1,
            "power": -2,
            "source": "monster",
            "type": "shield",
          },
          {
            "duration": 1,
            "power": 2,
            "source": "monster",
            "type": "weakness",
          },
        ],
        "type": "user",
      },
    }
,
    "currentTurn": 5,
    "events": [
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Sukkub otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 1,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 1,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Sukkub kradnie 12 HP",
        "target": "monster",
        "turn": 1,
        "type": "heal",
        "value": 12,
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 31 obrażeń",
        "target": "user1",
        "turn": 1,
        "type": "attack",
        "value": 31,
      },
      {
        "action": "Strike",
        "actor": "user1",
        "message": "Player_user1 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user1",
        "message": "Sukkub otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 2,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Sukkub otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 2,
        "type": "critical",
        "value": 21,
      },
      {
        "action": "Piekielne Selfie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Piekielne Selfie!",
        "turn": 2,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user1 otrzymuje 29 obrażeń",
        "target": "user1",
        "turn": 2,
        "type": "attack",
        "value": 29,
      },
      {
        "actor": "monster",
        "message": "Player_user1 zaczyna płonąć!",
        "target": "user1",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user1 nie może walczyć!",
        "target": "user1",
        "turn": 2,
        "type": "defeat",
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 29 obrażeń",
        "target": "user2",
        "turn": 2,
        "type": "attack",
        "value": 29,
      },
      {
        "actor": "monster",
        "message": "Player_user2 zaczyna płonąć!",
        "target": "user2",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 29 obrażeń",
        "target": "user3",
        "turn": 2,
        "type": "attack",
        "value": 29,
      },
      {
        "actor": "monster",
        "message": "Player_user3 zaczyna płonąć!",
        "target": "user3",
        "turn": 2,
        "type": "debuff",
      },
      {
        "actor": "user2",
        "message": "Player_user2 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 2,
        "type": "status_effect",
        "value": 5,
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 2,
        "type": "status_effect",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user2",
        "message": "Player_user2 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user2",
        "message": "Sukkub otrzymuje 14 obrażeń",
        "target": "monster",
        "turn": 3,
        "type": "attack",
        "value": 14,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Sukkub otrzymuje 21 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 3,
        "type": "critical",
        "value": 21,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 3,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Sukkub kradnie 18 HP",
        "target": "monster",
        "turn": 3,
        "type": "heal",
        "value": 18,
      },
      {
        "actor": "monster",
        "message": "Player_user2 otrzymuje 46 obrażeń (KRYTYK!)",
        "target": "user2",
        "turn": 3,
        "type": "critical",
        "value": 46,
      },
      {
        "actor": "monster",
        "message": "Player_user2 nie może walczyć!",
        "target": "user2",
        "turn": 3,
        "type": "defeat",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 3,
        "type": "status_effect",
        "value": 5,
      },
      {
        "action": "Heal",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Heal!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje leczenie za 15 HP",
        "target": "user3",
        "turn": 4,
        "type": "heal",
        "value": 15,
      },
      {
        "action": "Uwodzenie",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Uwodzenie!",
        "turn": 4,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Player_user3 zyskuje tarczę!",
        "target": "user3",
        "turn": 4,
        "type": "buff",
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje osłabienie!",
        "target": "user3",
        "turn": 4,
        "type": "debuff",
      },
      {
        "actor": "user3",
        "message": "Player_user3 otrzymuje 5 obrażeń od efektu podpalenie",
        "turn": 4,
        "type": "status_effect",
        "value": 5,
      },
      {
        "action": "Strike",
        "actor": "user3",
        "message": "Player_user3 korzysta z umiejętności Strike!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "user3",
        "message": "Sukkub otrzymuje 18 obrażeń (KRYTYK!)",
        "target": "monster",
        "turn": 5,
        "type": "critical",
        "value": 18,
      },
      {
        "action": "Pocałunek Sukkuba",
        "actor": "monster",
        "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
        "turn": 5,
        "type": "turn_start",
      },
      {
        "actor": "monster",
        "message": "Sukkub kradnie 13 HP",
        "target": "monster",
        "turn": 5,
        "type": "heal",
        "value": 13,
      },
      {
        "actor": "monster",
        "message": "Player_user3 otrzymuje 33 obrażeń",
        "target": "user3",
        "turn": 5,
        "type": "attack",
        "value": 33,
      },
      {
        "actor": "monster",
        "message": "Player_user3 nie może walczyć!",
        "target": "user3",
        "turn": 5,
        "type": "defeat",
      },
      {
        "actor": "system",
        "message": "Wszyscy gracze zostali pokonani!",
        "turn": 5,
        "type": "combat_end",
      },
    ],
    "isComplete": true,
    "result": "all_players_defeated",
    "turnOrder": [
      "user1",
      "user2",
      "user3",
      "monster",
    ],
    "turnSnapshots": [
      {
        "combatants": [
          {
            "hp": 298,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 298,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [],
        "turnNumber": 0,
      },
      {
        "combatants": [
          {
            "hp": 268,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 298,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 19,
            "id": "user1",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [],
          },
          {
            "hp": 50,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Sukkub otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 1,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 1,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Sukkub kradnie 12 HP",
            "target": "monster",
            "turn": 1,
            "type": "heal",
            "value": 12,
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 31 obrażeń",
            "target": "user1",
            "turn": 1,
            "type": "attack",
            "value": 31,
          },
        ],
        "turnNumber": 1,
      },
      {
        "combatants": [
          {
            "hp": 219,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 298,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 16,
            "id": "user2",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 2,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 16,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user1",
            "message": "Player_user1 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user1",
            "message": "Sukkub otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 2,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Sukkub otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 2,
            "type": "critical",
            "value": 21,
          },
          {
            "action": "Piekielne Selfie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Piekielne Selfie!",
            "turn": 2,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user1 otrzymuje 29 obrażeń",
            "target": "user1",
            "turn": 2,
            "type": "attack",
            "value": 29,
          },
          {
            "actor": "monster",
            "message": "Player_user1 zaczyna płonąć!",
            "target": "user1",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user1 nie może walczyć!",
            "target": "user1",
            "turn": 2,
            "type": "defeat",
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 29 obrażeń",
            "target": "user2",
            "turn": 2,
            "type": "attack",
            "value": 29,
          },
          {
            "actor": "monster",
            "message": "Player_user2 zaczyna płonąć!",
            "target": "user2",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 29 obrażeń",
            "target": "user3",
            "turn": 2,
            "type": "attack",
            "value": 29,
          },
          {
            "actor": "monster",
            "message": "Player_user3 zaczyna płonąć!",
            "target": "user3",
            "turn": 2,
            "type": "debuff",
          },
          {
            "actor": "user2",
            "message": "Player_user2 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 2,
            "type": "status_effect",
            "value": 5,
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 2,
            "type": "status_effect",
            "value": 5,
          },
        ],
        "turnNumber": 2,
      },
      {
        "combatants": [
          {
            "hp": 202,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 298,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 2,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 11,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 0,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user2",
            "message": "Player_user2 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user2",
            "message": "Sukkub otrzymuje 14 obrażeń",
            "target": "monster",
            "turn": 3,
            "type": "attack",
            "value": 14,
          },
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Sukkub otrzymuje 21 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 3,
            "type": "critical",
            "value": 21,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 3,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Sukkub kradnie 18 HP",
            "target": "monster",
            "turn": 3,
            "type": "heal",
            "value": 18,
          },
          {
            "actor": "monster",
            "message": "Player_user2 otrzymuje 46 obrażeń (KRYTYK!)",
            "target": "user2",
            "turn": 3,
            "type": "critical",
            "value": 46,
          },
          {
            "actor": "monster",
            "message": "Player_user2 nie może walczyć!",
            "target": "user2",
            "turn": 3,
            "type": "defeat",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 3,
            "type": "status_effect",
            "value": 5,
          },
        ],
        "turnNumber": 3,
      },
      {
        "combatants": [
          {
            "hp": 202,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 298,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 2,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 21,
            "id": "user3",
            "isDefeated": false,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 1,
                "power": -2,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 1,
                "power": 2,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Heal",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Heal!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje leczenie za 15 HP",
            "target": "user3",
            "turn": 4,
            "type": "heal",
            "value": 15,
          },
          {
            "action": "Uwodzenie",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Uwodzenie!",
            "turn": 4,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Player_user3 zyskuje tarczę!",
            "target": "user3",
            "turn": 4,
            "type": "buff",
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje osłabienie!",
            "target": "user3",
            "turn": 4,
            "type": "debuff",
          },
          {
            "actor": "user3",
            "message": "Player_user3 otrzymuje 5 obrażeń od efektu podpalenie",
            "turn": 4,
            "type": "status_effect",
            "value": 5,
          },
        ],
        "turnNumber": 4,
      },
      {
        "combatants": [
          {
            "hp": 197,
            "id": "monster",
            "isDefeated": false,
            "maxHp": 298,
            "name": "Sukkub",
            "statusEffects": [],
          },
          {
            "hp": 0,
            "id": "user1",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user1",
            "statusEffects": [
              {
                "duration": 3,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user2",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user2",
            "statusEffects": [
              {
                "duration": 2,
                "power": 5,
                "source": "monster",
                "type": "burn",
              },
            ],
          },
          {
            "hp": 0,
            "id": "user3",
            "isDefeated": true,
            "maxHp": 50,
            "name": "Player_user3",
            "statusEffects": [
              {
                "duration": 1,
                "power": -2,
                "source": "monster",
                "type": "shield",
              },
              {
                "duration": 1,
                "power": 2,
                "source": "monster",
                "type": "weakness",
              },
            ],
          },
        ],
        "events": [
          {
            "action": "Strike",
            "actor": "user3",
            "message": "Player_user3 korzysta z umiejętności Strike!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "user3",
            "message": "Sukkub otrzymuje 18 obrażeń (KRYTYK!)",
            "target": "monster",
            "turn": 5,
            "type": "critical",
            "value": 18,
          },
          {
            "action": "Pocałunek Sukkuba",
            "actor": "monster",
            "message": "Sukkub korzysta z akcji Pocałunek Sukkuba!",
            "turn": 5,
            "type": "turn_start",
          },
          {
            "actor": "monster",
            "message": "Sukkub kradnie 13 HP",
            "target": "monster",
            "turn": 5,
            "type": "heal",
            "value": 13,
          },
          {
            "actor": "monster",
            "message": "Player_user3 otrzymuje 33 obrażeń",
            "target": "user3",
            "turn": 5,
            "type": "attack",
            "value": 33,
          },
          {
            "actor": "monster",
            "message": "Player_user3 nie może walczyć!",
            "target": "user3",
            "turn": 5,
            "type": "defeat",
          },
          {
            "actor": "system",
            "message": "Wszyscy gracze zostali pokonani!",
            "turn": 5,
            "type": "combat_end",
          },
        ],
        "turnNumber": 5,
      },
    ],
    "winnerUserId": null,
  },
}
`;
